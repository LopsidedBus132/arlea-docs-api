"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3157],{4190:(r,e,o)=>{o.r(e),o.d(e,{assets:()=>i,contentTitle:()=>s,default:()=>l,frontMatter:()=>u,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"arquitectura/arquitectura-general","title":"arquitectura-general","description":"","source":"@site/docs/arquitectura/arquitectura-general.md","sourceDirName":"arquitectura","slug":"/arquitectura/arquitectura-general","permalink":"/arlea-docs-api/docs/arquitectura/arquitectura-general","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Endpoints \u2014 Usuario","permalink":"/arlea-docs-api/docs/api/usuario"},"next":{"title":"Casos de Uso \u2014 Auth","permalink":"/arlea-docs-api/docs/casos-de-uso/auth"}}');var t=o(4848),a=o(8453);const u={},s=void 0,i={},c=[];function d(r){const e={code:"code",pre:"pre",...(0,a.R)(),...r.components};return(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-mermaid",children:'flowchart LR\r\n    %% ==== ENTIDADES EXTERNAS ====\r\n    User[Usuario Final]\r\n    AI[IA Colorimetr\xeda]\r\n    Scraper[Scraper Worker]\r\n\r\n    %% ==== M\xd3DULO AUTH ====\r\n    subgraph AUTH["M\xf3dulo Auth (Supabase Auth)"]\r\n        AuthAPI[AuthController / AuthService]\r\n        AuthDB[(auth.users)]\r\n    end\r\n\r\n    %% ==== M\xd3DULO USUARIO ====\r\n    subgraph USERMOD["M\xf3dulo Usuario"]\r\n        UsuarioAPI[UsuarioController / UsuarioService]\r\n        UsuarioDB[(usuario)]\r\n    end\r\n\r\n    %% ==== M\xd3DULO COLOMETR\xcdA ====\r\n    subgraph COLORIM["M\xf3dulo Colorimetr\xeda"]\r\n        ColorAPI[ColorimetriaController / ColorimetriaService]\r\n        ColorDB[(colorimetria)]\r\n    end\r\n\r\n    %% ==== M\xd3DULO PRODUCTOS (solo lectura) ====\r\n    subgraph PRODUCTOS["M\xf3dulo Productos (GET All / Search / Details)"]\r\n        ProdAPI[ProductsController / ProductsService]\r\n        ProductoDB[(producto)]\r\n        TiendaDB[(tienda)]\r\n        ProdTiendaDB[(producto_tienda)]\r\n    end\r\n\r\n    %% ==== FLUJOS AUTH ====\r\n    User --\x3e|Registra / Login| AuthAPI\r\n    AuthAPI --\x3e AuthDB\r\n    AuthDB --\x3e|id_usuario| UsuarioAPI\r\n\r\n    %% ==== RELACI\xd3N AUTH \u2192 USUARIO ====\r\n    UsuarioAPI --\x3e UsuarioDB\r\n    UsuarioDB --\x3e UsuarioAPI\r\n\r\n    %% ==== COLOMETR\xcdA ====\r\n    User --\x3e|Sube imagen| ColorAPI\r\n    ColorAPI --\x3e|Env\xeda imagen| AI\r\n    AI --\x3e|Respuesta JSON| ColorAPI\r\n\r\n    ColorAPI --\x3e ColorDB\r\n    ColorDB --\x3e ColorAPI\r\n\r\n    %% ==== PRODUCTOS ====\r\n    %% --- Inserci\xf3n desde Worker ---\r\n    Scraper --\x3e|Inserta productos| ProdAPI\r\n    ProdAPI --\x3e ProductoDB\r\n    ProdAPI --\x3e TiendaDB\r\n    ProdAPI --\x3e ProdTiendaDB\r\n\r\n    %% --- Consultas del usuario ---\r\n    User --\x3e|GET: Todos los productos| ProdAPI\r\n    User --\x3e|GET: Buscar por palabra clave| ProdAPI\r\n    User --\x3e|GET: Detalle de producto| ProdAPI\r\n\r\n    ProdAPI --\x3e ProductoDB\r\n    ProdAPI --\x3e ProdTiendaDB\n'})})}function l(r={}){const{wrapper:e}={...(0,a.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(d,{...r})}):d(r)}},8453:(r,e,o)=>{o.d(e,{R:()=>u,x:()=>s});var n=o(6540);const t={},a=n.createContext(t);function u(r){const e=n.useContext(a);return n.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function s(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:u(r.components),n.createElement(a.Provider,{value:e},r.children)}}}]);